"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[515],{5136:function(e,a,t){t.d(a,{Z:function(){return s}});var r="Container_container__MM274",n=t(3329);function s(e){var a=e.children;return(0,n.jsx)("div",{className:r,children:a})}},7079:function(e,a,t){t.d(a,{Z:function(){return j}});var r=t(5861),n=t(9439),s=t(7757),i=t.n(s),l=t(2791),o=t(5705),c={btn:"Button_btn__W1TTO","button-form":"Button_button-form__Ry9K0","button-modal":"Button_button-modal__bQNb7","btn-second":"Button_btn-second__DnzJ-","disabled-btn":"Button_disabled-btn__W-pjZ"},d=t(3329);var u=function(e){var a=e.id,t=e.title,r=e.type,n=e.disabled,s=void 0!==n&&n,i=e.className,l=e.onClose;return(0,d.jsx)("button",{id:c[a],disabled:s,type:r,className:c[i],onClick:l,children:t})},m={calculate__field:"DailyCaloriesForm_calculate__field__yfJ6i",radio:"DailyCaloriesForm_radio__QdHUU","blood-group":"DailyCaloriesForm_blood-group__2jOuS",calculate__form:"DailyCaloriesForm_calculate__form__F4nMi",field__wrapper:"DailyCaloriesForm_field__wrapper__6IJiE",radio__wrapper:"DailyCaloriesForm_radio__wrapper__S94+W",checkmark:"DailyCaloriesForm_checkmark__BQF13",radioItem:"DailyCaloriesForm_radioItem__iVeu9","subtitle-error":"DailyCaloriesForm_subtitle-error__XfwV2","input-error":"DailyCaloriesForm_input-error__uWTVo"},_={"modal-content__subtitle":"DailyCalorieIntake_modal-content__subtitle__BMcF-","modal-content__text":"DailyCalorieIntake_modal-content__text__Uc6im","modal-content":"DailyCalorieIntake_modal-content__NpGSO","modal-content__title":"DailyCalorieIntake_modal-content__title__27b2H","modal-content__calories":"DailyCalorieIntake_modal-content__calories__EfMy-","modal-content__list":"DailyCalorieIntake_modal-content__list__T8VOq"},h=t(7689);var p=function(e){var a=e.foodsList,t=e.onClose,r=(0,h.s0)();return(0,d.jsxs)("div",{className:_["modal-content"],children:[(0,d.jsxs)("div",{className:_["modal-content__inner"],children:[(0,d.jsx)("h2",{className:_["modal-content__title"],children:"The recommended daily intake of nutrients in calories is"}),(0,d.jsxs)("p",{className:_["modal-content__calories"],children:[a.calories," ",(0,d.jsx)("span",{children:"kcal"})]})]}),(0,d.jsxs)("div",{className:_["modal-content__inner"],children:[(0,d.jsx)("h3",{className:_["modal-content__subtitle"],children:"Foods you shouldn't eat"}),(0,d.jsx)("ol",{className:_["modal-content__list"],children:a.notAllowedProducts.map((function(e){var a=e._id,t=e.title;return(0,d.jsx)("li",{className:_["modal-content__item"],children:(0,d.jsx)("p",{className:_["modal-content__text"],children:t.ua})},a)}))})]}),(0,d.jsx)(u,{id:"button-modal",type:"button",title:"Start losing weight",onClose:function(){t(),r("/register",{replace:!0})}})]})},x=t(2463),f=t(1566),v=t(4420),g=t(8007),b=g.Ry().shape({height:g.Rx("The value must be a number").typeError("Please enter a numeric value").min(100,"Please specify a value greater than 100").max(250,"Please specify a value less than 250").integer("The value must be an integer").required("This field is required"),age:g.Rx("The value must be a number").typeError("Please enter a numeric value").min(18,"Please specify a value greater than 18").max(100,"Please specify a value less than 100").integer("The value must be an integer").required("This field is required"),currentWeight:g.Rx("The value must be a number").typeError("Please enter a numeric value").min(20,"Please specify a value greater than 20").max(500,"Please specify a value less than 500").integer("The value must be an integer").required("This field is required"),desiredWeight:g.Rx("The value must be a number").typeError("Please enter a numeric value").min(20,"Please specify a value greater than 20").max(500,"Please specify a value less than 500").integer("The value must be an integer").required("This field is required")});var j=function(e){var a=e.onFormSubmit,t=void 0===a?function(){}:a,s=e.height,c=void 0===s?"":s,_=e.age,h=void 0===_?"":_,g=e.currentWeight,j=void 0===g?"":g,y=e.desiredWeight,N=void 0===y?"":y,k=e.bloodType,w=void 0===k?"1":k,S=(0,l.useState)([]),C=(0,n.Z)(S,2),P=C[0],T=C[1],F=(0,v.v9)(f.um.getIsLoggedIn),I=function(){var e=(0,r.Z)(i().mark((function e(a,r){var n,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.resetForm,console.log("Submitting form with values:",a),F){e.next=14;break}return e.prev=3,e.next=6,(0,x.l1)(a);case 6:s=e.sent,console.log("Data received from API:",s),T(s),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error("Error fetching public data:",e.t0);case 14:return e.next=16,t(a);case 16:n();case 17:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(a,t){return e.apply(this,arguments)}}();return(0,d.jsxs)("div",{className:m.container,children:[P.length>0&&(0,d.jsx)("div",{className:m.result,children:(0,d.jsx)(p,{foodsList:P})}),(0,d.jsx)(o.J9,{initialValues:{height:c,age:h,currentWeight:j,desiredWeight:N,bloodType:w},validationSchema:b,validateOnChange:!0,validateOnBlur:!1,onSubmit:I,enableReinitialize:!0,children:function(e){var a=e.values,t=e.handleSubmit,r=e.errors,n=e.touched,s=e.isValid,i=e.dirty;return(0,d.jsxs)(o.l0,{className:m.calculate__form,onSubmit:t,children:[(0,d.jsxs)("div",{className:m.field__wrapper,children:[(0,d.jsx)(o.gN,{type:"number",name:"height",placeholder:"Height *",className:r.height&&n.height?m["input-error"]:m.calculate__field}),(0,d.jsx)(o.Bc,{name:"height",component:"div",className:m["subtitle-error"]})]}),(0,d.jsxs)("div",{className:m.field__wrapper,children:[(0,d.jsx)(o.gN,{type:"number",name:"age",placeholder:"Age *",className:r.age&&n.age?m["input-error"]:m.calculate__field}),(0,d.jsx)(o.Bc,{name:"age",component:"div",className:m["subtitle-error"]})]}),(0,d.jsxs)("div",{className:m.field__wrapper,children:[(0,d.jsx)(o.gN,{type:"number",name:"currentWeight",placeholder:"Weight *",className:r.currentWeight&&n.currentWeight?m["input-error"]:m.calculate__field}),(0,d.jsx)(o.Bc,{name:"currentWeight",component:"div",className:m["subtitle-error"]})]}),(0,d.jsxs)("div",{className:m.field__wrapper,children:[(0,d.jsx)(o.gN,{type:"number",name:"desiredWeight",placeholder:"Desired weight *",className:r.desiredWeight&&n.desiredWeight?m["input-error"]:m.calculate__field}),(0,d.jsx)(o.Bc,{name:"desiredWeight",component:"div",className:m["subtitle-error"]})]}),(0,d.jsxs)("div",{className:m.radio__wrapper,children:[(0,d.jsx)("div",{id:m["blood-group"],children:"Blood type *"}),(0,d.jsxs)("div",{role:"group","aria-labelledby":"blood-group",className:m.radio,children:[(0,d.jsxs)("label",{children:["I",(0,d.jsx)(o.gN,{type:"radio",name:"bloodType",value:"1",className:m.radioItem}),(0,d.jsx)("span",{className:m.checkmark})]}),(0,d.jsxs)("label",{children:["II",(0,d.jsx)(o.gN,{type:"radio",name:"bloodType",value:"2",className:m.radioItem}),(0,d.jsx)("span",{className:m.checkmark})]}),(0,d.jsxs)("label",{children:["III",(0,d.jsx)(o.gN,{type:"radio",name:"bloodType",value:"3",className:m.radioItem}),(0,d.jsx)("span",{className:m.checkmark})]}),(0,d.jsxs)("label",{children:["IV",(0,d.jsx)(o.gN,{type:"radio",name:"bloodType",value:"4",className:m.radioItem}),(0,d.jsx)("span",{className:m.checkmark})]})]})]}),(0,d.jsx)(u,{id:"button-form",type:"submit",disabled:!(i&&s&&a.bloodType),className:i&&s&&a.bloodType?"":"disabled-btn",title:"Start losing weight"})]})}})]})}},5652:function(e,a,t){t.d(a,{Z:function(){return b}});var r=t(5861),n=t(9439),s=t(7757),i=t.n(s),l=t(2791),o="RightSideBar_container__ZBJQZ",c="RightSideBar_summery__ccMKz",d="RightSideBar_norecommended__pQyQf",u="RightSideBar_header__CSFAx",m="RightSideBar_list__sE6t3",_="RightSideBar_text__YGbaY",h="RightSideBar_text_item__vi-iV",p="RightSideBar_last__text__fI9sQ",x="RightSideBar_item__CaG-+",f=t(2463),v=t(3693),g=t(3329);function b(e){var a,t=e.userParams,s=e.userProducts,b=e.date,j=e.diaryProducts,y=(0,l.useState)(null),N=(0,n.Z)(y,2),k=N[0],w=N[1],S=(0,l.useState)(null),C=(0,n.Z)(S,2),P=C[0],T=C[1];(0,l.useEffect)((function(){function e(){return(e=(0,r.Z)(i().mark((function e(){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!s){e.next=3;break}return w({parameters:t,notAllowedProducts:s}),e.abrupt("return");case 3:return e.next=5,(0,f.ts)();case 5:a=e.sent,w(a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,s]),(0,l.useEffect)((function(){function e(){return(e=(0,r.Z)(i().mark((function e(){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=4;break}T(j),e.next=9;break;case 4:if(!b){e.next=9;break}return e.next=7,(0,f.Qf)(b);case 7:a=e.sent,T(a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[b,j]);var F=function(){var e;return(null===k||void 0===k||null===(e=k.parameters)||void 0===e?void 0:e.calories)||0}(),I=P?P.map((function(e){return e.calories||0})).reduce((function(e,a){return e+a}),0):0,B=F?I/F*100:0,Z=F-I;return(0,g.jsxs)("div",{className:o,children:[(0,g.jsxs)("div",{className:c,children:[(0,g.jsxs)("h1",{className:u,children:["Report for ",(0,g.jsx)("span",{children:(0,v.toBackendDateString)(b)})]}),(0,g.jsxs)("ul",{className:m,children:[(0,g.jsxs)("li",{className:x,children:[(0,g.jsx)("p",{className:_,children:"Left"}),(0,g.jsx)("span",{className:_,children:F?"".concat(Z.toFixed(0)," kcal"):"0 kcal"})]}),(0,g.jsxs)("li",{className:x,children:[(0,g.jsx)("p",{className:_,children:"Consumed"}),(0,g.jsx)("span",{className:_,children:F?"".concat(I.toFixed(0)," kcal"):"0 kcal"})]}),(0,g.jsxs)("li",{className:x,children:[(0,g.jsx)("p",{className:_,children:"Daily Norm"}),(0,g.jsx)("span",{className:_,children:F?"".concat(F," kcal"):"0 kcal"})]}),(0,g.jsxs)("li",{className:x,children:[(0,g.jsx)("p",{className:p,children:"% of the Norm"}),(0,g.jsx)("span",{className:_,children:F?"".concat(B.toFixed(0)," %"):"0 %"})]})]})]}),(0,g.jsxs)("div",{className:d,children:[(0,g.jsx)("h2",{className:u,children:"Not Recommended Foods"}),(0,g.jsx)("ul",{children:null!==k&&void 0!==k&&null!==(a=k.notAllowedProducts)&&void 0!==a&&a.length?k.notAllowedProducts.slice(0,9).map((function(e){var a=e._id,t=e.title;return(0,g.jsx)("li",{className:h,children:(0,g.jsx)("span",{children:t.en})},a)})):(0,g.jsx)("p",{className:_,children:"Your diet will be displayed here"})})]})]})}},7515:function(e,a,t){t.r(a),t.d(a,{default:function(){return v}});var r=t(1413),n=t(5861),s=t(9439),i=t(7757),l=t.n(i),o=t(2791),c=t(7079),d=t(5652),u="CalculatorPage_container_calculator__tFXQP",m="CalculatorPage_container__title__bop01",_=t(5136),h=t(6776),p=t(2463),x=t(8646),f=t(3329),v=function(){var e=(0,o.useState)(new Date),a=(0,s.Z)(e,1)[0],t=(0,o.useState)(null),i=(0,s.Z)(t,2),v=i[0],g=i[1],b=(0,o.useState)(null),j=(0,s.Z)(b,2),y=j[0],N=j[1],k=(0,o.useState)(!0),w=(0,s.Z)(k,2),S=w[0],C=w[1];(0,o.useEffect)((function(){function e(){return(e=(0,n.Z)(l().mark((function e(){var a,t,r,n,s,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,p.ts)();case 3:a=e.sent,t=a.parameters,r=t.height,n=t.age,s=t.currentWeight,i=t.desiredWeight,"0"!==r&&"0"!==n&&"0"!==s&&"0"!==i&&g(a.parameters),N(a.notAllowedProducts),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching user data:",e.t0);case 12:C(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var P=getComputedStyle(document.documentElement).getPropertyValue("--breakpoint-desktop"),T=parseInt(P)-1+"px",F=(0,x.a)("(max-width: ".concat(T,")")),I=function(){var e=(0,n.Z)(l().mark((function e(a){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,p.SF)(a);case 3:t=e.sent,console.log("User updated with response:",t),g(t.parameters),N(t.notAllowedProducts),F&&window.scrollTo({top:500,behavior:"smooth"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error updating user:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(a){return e.apply(this,arguments)}}();return(0,f.jsx)(o.Fragment,{children:S?(0,f.jsx)(h.Z,{}):(0,f.jsxs)(_.Z,{children:[(0,f.jsxs)("div",{className:u,children:[(0,f.jsx)("h1",{className:m,children:"Calculate your daily calorie intake right now"}),(0,f.jsx)(c.Z,(0,r.Z)({onFormSubmit:I},v))]}),(0,f.jsx)(d.Z,{date:a,userParams:v,userProducts:y})]})})}}}]);
//# sourceMappingURL=515.9399d788.chunk.js.map